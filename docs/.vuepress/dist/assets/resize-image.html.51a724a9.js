import{_ as n,o as s,c as a,e}from"./app.b7c65e7a.js";const t={},p=e(`<h2 id="\u589E\u52A0\u81EA\u5B9A\u88C1\u56FE" tabindex="-1"><a class="header-anchor" href="#\u589E\u52A0\u81EA\u5B9A\u88C1\u56FE" aria-hidden="true">#</a> \u589E\u52A0\u81EA\u5B9A\u88C1\u56FE</h2><p>\u901A\u8FC7nginx \u914D\u7F6E\u7578\u5F62url\u89C4\u5219\uFF0C\u5B9E\u73B0\u5730\u5740\u91CD\u5199\uFF0C\u8BFB\u53D6\u88C1\u526A\u5B8C\u56FE\u7247\u5730\u5740\uFF0C\u4E0D\u5B58\u5728\u540E\u7AEFjava \u5B9E\u73B0\u88C1\u56FE\u540E\u5B58\u50A8\u5230\u6307\u5B9A\u5730\u5740</p><h3 id="_1-\u524D\u7AEF\u5730\u5740\u66FF\u6362" tabindex="-1"><a class="header-anchor" href="#_1-\u524D\u7AEF\u5730\u5740\u66FF\u6362" aria-hidden="true">#</a> 1 \u524D\u7AEF\u5730\u5740\u66FF\u6362</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!--\u539F\u56FE\u7247--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>/uploads/1.jpg<span class="token punctuation">&#39;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--\u538B\u7F29\u5F15\u7528\u56FE\u7247--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>/uploads/1.jpg!size=130X130<span class="token punctuation">&#39;</span></span><span class="token punctuation">&gt;</span></span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-nginx-\u914D\u7F6E\u8F6C\u53D1\u89C4\u5219" tabindex="-1"><a class="header-anchor" href="#_2-nginx-\u914D\u7F6E\u8F6C\u53D1\u89C4\u5219" aria-hidden="true">#</a> 2 nginx \u914D\u7F6E\u8F6C\u53D1\u89C4\u5219</h3><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code>  <span class="token comment"># --------------------\u81EA\u52A8\u62C6\u56FE----------\u2193-----------------------------</span>
    <span class="token comment"># \u7F29\u7565\u56FE\u53C2\u6570\u91CD\u5B9A\u5411  x.jpg!size=s \u5B9A\u4F4D\u5230 s_x.jpg</span>
    location ~ .<span class="token important">*\\.(gif|jpg|jpeg|png|bmp)</span><span class="token tag">!size=(.+)$</span>
    <span class="token punctuation">{</span>
        expires      30d; <span class="token comment"># \u7F13\u51B2\u65F6\u95F4</span>
        rewrite ^(.+)/(<span class="token punctuation">[</span>a<span class="token punctuation">-</span>zA<span class="token punctuation">-</span>Z0<span class="token punctuation">-</span><span class="token number">9</span><span class="token punctuation">]</span>+\\.(gif<span class="token punctuation">|</span>jpg<span class="token punctuation">|</span>jpeg<span class="token punctuation">|</span>png<span class="token punctuation">|</span>bmp))<span class="token tag">!size=(.+)$</span> $1/$4_$2;
    <span class="token punctuation">}</span>
    <span class="token comment"># \u52A8\u6001\u8C03\u7528\u56FE\u7247\u88C1\u56FE\u5DE5\u5177 s_x.jpg \u4E0D\u5B58\u5728\u5219\u88C1\u56FE</span>
    location ~ .<span class="token important">*(.+)/(.+)_(</span><span class="token punctuation">[</span>a<span class="token punctuation">-</span>zA<span class="token punctuation">-</span>Z0<span class="token punctuation">-</span><span class="token number">9</span><span class="token punctuation">]</span>+\\.(gif<span class="token punctuation">|</span>jpg<span class="token punctuation">|</span>jpeg<span class="token punctuation">|</span>png<span class="token punctuation">|</span>bmp))$
    <span class="token punctuation">{</span>
      try_files $uri /prod<span class="token punctuation">-</span>api/common/resizeImage<span class="token punctuation">?</span>url=$uri;
    <span class="token punctuation">}</span>
     <span class="token comment"># --------------------\u81EA\u52A8\u62C6\u56FE----------\u2193-----------------------------</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,6),i=[p];function c(l,o){return s(),a("div",null,i)}const d=n(t,[["render",c],["__file","resize-image.html.vue"]]);export{d as default};
